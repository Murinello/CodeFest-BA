CREATE DATABASE db_codefestba;
CREATE USER 'springuser'@'%' identified by 'hiorc4io45i8789c';
GRANT ALL on db_codefestba.* TO 'springuser'@'%';

CREATE TABLE  'role' (
  'role_id' int(11) NOT NULL auto_increment,
  'role' varchar(255) default NULL,
  PRIMARY KEY  ('role_id')
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;

CREATE TABLE  'user' (
  'id' int(11) NOT NULL auto_increment,
  'firstname' varchar(20) NOT NULL,
  'lastname' varchar(20) NOT NULL,
  'dni' varchar(10) NOT NULL,
  'birthdate' date NOT NULL,
  'telephone' varchar(15),
  'address' varchar(255)
  'email' varchar(255),
  'password' varchar(255),
  'active' int(11) default NULL,
  PRIMARY KEY  ('id')
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE  'user_role' (
  'user_id' int(11) NOT NULL,
  'role_id' int(11) NOT NULL,
  PRIMARY KEY  ('user_id','role_id'),
  KEY 'user_role_key' ('role_id'),
  CONSTRAINT 'user_userrole' FOREIGN KEY ('user_id') REFERENCES 'user' ('id'),
  CONSTRAINT 'role_userrole' FOREIGN KEY ('role_id') REFERENCES 'role' ('role_id')
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE  'persistent_logins' (
  'username' varchar(64) NOT NULL,
  'series' varchar(64) NOT NULL,
  'token' varchar(64) NOT NULL,
  'last_used' timestamp NOT NULL default CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP,
  PRIMARY KEY  ('series')
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO 'role' VALUES (1,'COORDINADOR');
INSERT INTO 'role' VALUES (2,'DOCENT');

CREATE TABLE  'activity' (
  'id' int(11) NOT NULL auto_increment,
  'title' varchar(50) NOT NULL,
  'description' varchar(50),
  'requeriments' varchar(255),
  PRIMARY KEY  ('id')
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE  'room' (
  'room_id' int(11) NOT NULL auto_increment,
  'room' varchar(255) default NULL,
  PRIMARY KEY  ('room_id')
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;

INSERT INTO 'room' VALUES (1,'MEDIA');
INSERT INTO 'room' VALUES (2,'TIL');
INSERT INTO 'room' VALUES (3,'INTERNET');
INSERT INTO 'room' VALUES (4,'DIGITAL');
INSERT INTO 'room' VALUES (5,'CIBERNARIUM');
INSERT INTO 'room' VALUES (6,'NUCLI');
INSERT INTO 'room' VALUES (7,'INTEGRA');
INSERT INTO 'room' VALUES (8,'CONNECTA');
INSERT INTO 'room' VALUES (9,'XARXA');
INSERT INTO 'room' VALUES (10,'NODE');
INSERT INTO 'room' VALUES (11,'REUNIONS');


